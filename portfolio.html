<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ëª©í‘œ í¬íŠ¸í´ë¦¬ì˜¤</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #f5f5f7;
      --card: #ffffff;
      --border: #e2e2e8;
      --accent: #4b8cff;
      --accent-soft: #e0ebff;
      --text-main: #111827;
      --text-sub: #6b7280;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
      background: var(--bg);
      color: var(--text-main);
      display: flex;
      justify-content: center;
      padding: 24px;
    }

    .container {
      width: 100%;
      max-width: 960px;
    }

    h1 {
      font-size: 24px;
      margin: 0 0 4px;
    }

    .subtitle {
      font-size: 13px;
      color: var(--text-sub);
      margin-bottom: 16px;
    }

    .card {
      background: var(--card);
      border-radius: 16px;
      padding: 16px 18px;
      box-shadow: 0 10px 30px rgba(15, 23, 42, 0.06);
      margin-bottom: 20px;
      border: 1px solid var(--border);
    }

    /* ìš”ì•½ ì„¹ì…˜ */
    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      margin-bottom: 16px;
    }

    .summary-item {
      background: #f9fafb;
      padding: 12px 16px;
      border-radius: 8px;
      border: 1px solid #e5e7eb;
    }

    .summary-label {
      font-size: 11px;
      color: var(--text-sub);
      margin-bottom: 4px;
    }

    .summary-value {
      font-size: 18px;
      font-weight: 600;
      color: var(--text-main);
    }

    /* ê²€ìƒ‰ ë° ì •ë ¬ */
    .controls {
      display: flex;
      gap: 12px;
      margin-bottom: 12px;
      flex-wrap: wrap;
    }

    .search-box {
      flex: 1;
      min-width: 200px;
      padding: 8px 12px;
      border: 1px solid var(--border);
      border-radius: 8px;
      font-size: 13px;
      font-family: inherit;
    }

    .search-box:focus {
      outline: none;
      border-color: var(--accent);
    }

    /* í…Œì´ë¸” */
    .table-wrapper {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    .portfolio-table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }

    .portfolio-table thead {
      background: #f9fafb;
    }

    .portfolio-table th,
    .portfolio-table td {
      padding: 8px 10px;
      border-bottom: 1px solid #edf0f4;
      text-align: left;
      white-space: nowrap;
    }

    .portfolio-table th:nth-child(4),
    .portfolio-table td:nth-child(4) {
      text-align: right;
    }

    .portfolio-table thead th {
      font-weight: 600;
      font-size: 12px;
      color: #4b5563;
      border-bottom: 1px solid var(--border);
    }

    .sortable {
      cursor: pointer;
      user-select: none;
      position: relative;
      padding-right: 20px !important;
    }

    .sortable:hover {
      background: #f3f4f6;
    }

    .sortable::after {
      content: 'â‡…';
      position: absolute;
      right: 6px;
      opacity: 0.3;
      font-size: 10px;
    }

    .sortable.asc::after {
      content: 'â†‘';
      opacity: 1;
    }

    .sortable.desc::after {
      content: 'â†“';
      opacity: 1;
    }

    .badge-etf {
      display: inline-flex;
      align-items: center;
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid #bfdbfe;
      background: #eff6ff;
      color: #1d4ed8;
      font-weight: 500;
    }

    .badge-stock {
      display: inline-flex;
      align-items: center;
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid #e5e7eb;
      background: #f9fafb;
      color: #374151;
      font-weight: 500;
    }

    .weight-cell {
      font-variant-numeric: tabular-nums;
      font-weight: 600;
    }

    .ticker {
      font-family: "Menlo", "SF Mono", ui-monospace, monospace;
      font-size: 12px;
      letter-spacing: 0.02em;
    }

    .section-title {
      font-size: 16px;
      font-weight: 600;
      margin: 0 0 8px;
    }

    .section-caption {
      font-size: 12px;
      color: var(--text-sub);
      margin-bottom: 8px;
    }

    .etf-link {
      border: none;
      background: none;
      padding: 0;
      margin: 0;
      font: inherit;
      color: var(--accent);
      cursor: pointer;
      text-align: left;
    }

    .etf-link:hover {
      text-decoration: underline;
    }

    .etf-detail-row {
      display: none;
      background: #f9fafb;
    }

    .etf-detail-row td {
      border-bottom: 1px solid #edf0f4;
      padding-top: 4px;
      padding-bottom: 10px;
    }

    .etf-detail {
      font-size: 12px;
      color: var(--text-sub);
    }

    .etf-detail-header {
      display: flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 4px;
    }

    .etf-detail-name {
      font-weight: 600;
      color: var(--text-main);
    }

    .etf-detail-ticker {
      font-family: "Menlo", "SF Mono", ui-monospace, monospace;
      font-size: 11px;
      padding: 2px 6px;
      border-radius: 999px;
      background: #e5edff;
      color: #1e3a8a;
    }

    .etf-detail-desc {
      margin: 0 0 4px;
      line-height: 1.5;
    }

    .etf-detail-meta {
      margin: 4px 0 2px;
      font-size: 11px;
      color: var(--text-sub);
    }

    .etf-detail-holdings {
      margin: 0;
      padding-left: 16px;
      font-size: 11px;
    }

    .etf-detail-holdings li {
      margin-bottom: 2px;
    }

    .holding-link {
      border: none;
      background: none;
      padding: 0;
      margin: 0;
      font: inherit;
      cursor: pointer;
      color: #111827;
    }

    .holding-link:hover {
      text-decoration: underline;
    }

    .holding-info {
      margin-top: 6px;
      font-size: 11px;
      color: var(--text-sub);
    }

    .chart-wrapper {
      position: relative;
      max-width: 640px;
      margin: 0 auto;
    }

    #weightPieChart,
    #projectionChart {
      width: 100%;
      height: auto;
    }

    .scale-tabs {
      display: inline-flex;
      border-radius: 999px;
      background: #f3f4f6;
      padding: 2px;
      margin-bottom: 8px;
      gap: 4px;
    }

    .scale-tab {
      border: none;
      background: transparent;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 11px;
      cursor: pointer;
      color: #6b7280;
    }

    .scale-tab.active {
      background: #2563eb;
      color: #ffffff;
      font-weight: 600;
    }

    @media (max-width: 640px) {
      body {
        padding: 12px;
      }
      .card {
        padding: 12px;
        border-radius: 12px;
      }
      .portfolio-table th,
      .portfolio-table td {
        padding: 6px 8px;
        font-size: 12px;
      }
      .summary-grid {
        grid-template-columns: 1fr;
      }
      .controls {
        flex-direction: column;
      }
      .search-box {
        width: 100%;
      }
      h1 {
        font-size: 20px;
      }
      .section-title {
        font-size: 14px;
      }
    }
  
    /* í•˜ë‹¨ í† ê¸€(ë³´ê³ ì„œ) */
    details.inline-toggle {
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 10px 12px;
      background: #f9fafb;
    }
    details.inline-toggle > summary.inline-toggle-summary {
      cursor: pointer;
      list-style: none;
      font-weight: 600;
      font-size: 13px;
      color: var(--text-main);
    }
    details.inline-toggle > summary.inline-toggle-summary::-webkit-details-marker {
      display: none;
    }
    details.inline-toggle > summary.inline-toggle-summary::after {
      content: "â–¾";
      float: right;
      color: var(--text-sub);
    }
    details.inline-toggle[open] > summary.inline-toggle-summary::after {
      content: "â–´";
    }
    .toggle-body {
      margin-top: 10px;
    }

  </style>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="container">
    <header style="margin-bottom: 14px;">
      <h1>ëª©í‘œ í¬íŠ¸í´ë¦¬ì˜¤</h1>
      <p class="subtitle">ì¢…ëª© Â· í‹°ì»¤ Â· ìì‚° ìœ í˜• Â· ëª©í‘œ ë¹„ì¤‘ì„ í•œëˆˆì— ë³´ëŠ” ì •ë¦¬ìš© í˜ì´ì§€</p>
    </header>

    <!-- í¬íŠ¸í´ë¦¬ì˜¤ ìš”ì•½ -->
    <section class="card">
      <h2 class="section-title">í¬íŠ¸í´ë¦¬ì˜¤ ìš”ì•½</h2>
      <div class="summary-grid">
        <div class="summary-item">
          <div class="summary-label">ì´ ì¢…ëª© ìˆ˜</div>
          <div class="summary-value" id="totalCount">-</div>
        </div>
        <div class="summary-item">
          <div class="summary-label">ETF ë¹„ì¤‘</div>
          <div class="summary-value" id="etfWeight">-</div>
        </div>
        <div class="summary-item">
          <div class="summary-label">ê°œë³„ì£¼ ë¹„ì¤‘</div>
          <div class="summary-value" id="stockWeight">-</div>
        </div>
        <div class="summary-item">
          <div class="summary-label">ì´ ë¹„ì¤‘</div>
          <div class="summary-value" id="totalWeight">-</div>
        </div>
      </div>
    </section>

    <!-- ëª©í‘œ ë¹„ì¤‘ ì›í˜• ì°¨íŠ¸ -->
    <section class="card">
      <h2 class="section-title">ëª©í‘œ ë¹„ì¤‘ ì›í˜• ì°¨íŠ¸</h2>
      <p class="section-caption">
        ì•„ë˜ ì°¨íŠ¸ëŠ” í˜„ì¬ í¬íŠ¸í´ë¦¬ì˜¤ì˜ ê° ì¢…ëª© ëª©í‘œ ë¹„ì¤‘ì„ ê¸°ì¤€ìœ¼ë¡œ ê·¸ë¦° ì›í˜• ê·¸ë˜í”„ì…ë‹ˆë‹¤.
      </p>
      <div class="chart-wrapper">
        <canvas id="weightPieChart"></canvas>
      </div>
    </section>

    <!-- ë©”ì¸ í¬íŠ¸í´ë¦¬ì˜¤ í‘œ -->
    <section class="card">
      <div class="controls">
        <input 
          type="text" 
          class="search-box" 
          id="searchInput" 
          placeholder="ì¢…ëª©ëª… ë˜ëŠ” í‹°ì»¤ë¡œ ê²€ìƒ‰..."
        />
      </div>
      <div class="table-wrapper">
        <table class="portfolio-table">
          <thead>
            <tr>
              <th class="sortable" data-sort="name">ì¢…ëª©</th>
              <th class="sortable" data-sort="ticker">í‹°ì»¤</th>
              <th>ìœ í˜•</th>
              <th class="sortable" data-sort="weight">ëª©í‘œ ë¹„ì¤‘</th>
            </tr>
          </thead>
          <tbody id="portfolioTableBody">
          </tbody>
        </table>
      </div>
    </section>

    <!-- ì¥ê¸° ëª©í‘œ ì‹œë‚˜ë¦¬ì˜¤ ê·¸ë˜í”„ -->
    <section class="card">
      <h2 class="section-title">ì¥ê¸° ëª©í‘œ í¬íŠ¸í´ë¦¬ì˜¤ ì‹œë‚˜ë¦¬ì˜¤ (ì˜ˆìƒ)</h2>
      <p class="section-caption">
        2025ë…„ ë§ ì•½ 4,000ë§Œ ì›ì—ì„œ ì‹œì‘í•´ ì—° 15% ìˆ˜ìµë¥ ì„ ëª©í‘œë¡œ í–ˆì„ ë•Œ, 2060ë…„ê¹Œì§€ì˜ ëŒ€ëµì ì¸ ì„±ì¥ ì‹œë‚˜ë¦¬ì˜¤ì…ë‹ˆë‹¤.
      </p>
      <p class="section-caption">
        â€» ê°€ì •: 2025ë…„ ë§ 4,000ë§Œ ì›ì—ì„œ ì‹œì‘, 2026~2029ë…„ê¹Œì§€ ì•„ë˜ì™€ ê°™ì´ ì¶”ê°€ íˆ¬ì í›„ 2030ë…„ ì´í›„ì—ëŠ” ì¶”ê°€ íˆ¬ì ì—†ì´ ì—° 15% ë³µë¦¬ë§Œ ì ìš©.
        <br>Â· 2026ë…„: ìƒë°˜ê¸° ë§¤ ì˜ì—…ì¼ 30ë§Œ ì›, í•˜ë°˜ê¸° 25ë§Œ ì› â†’ ì—°ë§ ê¸°ì¤€ ì•½ 6,900ë§Œ ì›
        <br>Â· 2027ë…„: ìƒë°˜ê¸° ë§¤ ì˜ì—…ì¼ 20ë§Œ ì›, í•˜ë°˜ê¸° 15ë§Œ ì› â†’ ì—°ë§ ê¸°ì¤€ ì•½ 4,400ë§Œ ì›
        <br>Â· 2028ë…„: ë§¤ ì˜ì—…ì¼ 10ë§Œ ì› â†’ ì—°ë§ ê¸°ì¤€ ì•½ 2,500ë§Œ ì›
        <br>Â· 2029ë…„: ë§¤ ì˜ì—…ì¼ 10ë§Œ ì› â†’ ì—°ë§ ê¸°ì¤€ ì•½ 2,500ë§Œ ì›
      </p>
      <p class="section-caption">
        â€» 4ë…„ ë™ì•ˆ ì´ ì•½ 1ì–µ 6ì²œë§Œ ì›ì„ ì¶”ê°€ë¡œ íˆ¬ìí•˜ëŠ” ì…ˆì´ë©°, ì•„ë˜ ê·¸ë˜í”„ëŠ” <strong>ì°¸ê³ ìš© ì‹œë‚˜ë¦¬ì˜¤</strong>ì…ë‹ˆë‹¤.
      </p>

      <div class="chart-wrapper">
        <div class="scale-tabs">
          <button type="button" class="scale-tab active" data-scale="linear">
            ì¼ë°˜ ìŠ¤ì¼€ì¼
          </button>
          <button type="button" class="scale-tab" data-scale="log">
            ë¡œê·¸ ìŠ¤ì¼€ì¼
          </button>
        </div>
        <canvas id="projectionChart"></canvas>
      </div>
    </section>
<section class="card">
  <p class="section-caption" style="margin-top: 4px;">
    â€» 2026ë…„ ëª©í‘œ: í¬íŠ¸í´ë¦¬ì˜¤ ë‹¨ìˆœí™” ë° ì§‘ì¤‘ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ ë³´ìœ  ì¢…ëª© ìˆ˜ë¥¼ í˜„ì¬ ëŒ€ë¹„ 2ê°œ ì¶•ì†Œ ì˜ˆì •
  </p>
</section>

<section class="card">
  <details class="inline-toggle">
    <summary class="inline-toggle-summary">ğŸ“Œ í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ ìš”ì•½ (ë³´ê³ ì„œ) ë³´ê¸°</summary>
    <div class="toggle-body">
  <p style="margin: 0 0 6px;"><strong>í¬íŠ¸í´ë¦¬ì˜¤ ë¶„ì„ ìš”ì•½</strong> <span style="color: var(--text-sub);">Â· 2026ë…„ 1ì›” ë³´ê³ ì„œ</span></p>

  <h3 style="margin: 14px 0 6px; font-size: 14px;">ìµœì‹  í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„± (ì—…ë°ì´íŠ¸)</h3>
  <div class="table-wrapper" style="margin-top:10px;">
<table class="portfolio-table">
<thead><tr>
<th>êµ¬ë¶„</th>
<th>ì´ì „</th>
<th></th>
<th>í˜„ì¬</th>
<th>ë³€í™”</th>
</tr></thead><tbody>
<tr>
<td>SPY/VOO</td>
<td>36%</td>
<td>â†’</td>
<td>36%</td>
<td>ë³€ë™ ì—†ìŒ</td>
</tr>
<tr>
<td>VWO</td>
<td>3%</td>
<td>â†’</td>
<td>5%</td>
<td>+2%p</td>
</tr>
<tr>
<td>QQQ</td>
<td>5%</td>
<td>â†’</td>
<td>3%</td>
<td>-2%p</td>
</tr>
<tr>
<td>ê¸°íƒ€ ETF</td>
<td>16.5%</td>
<td>â†’</td>
<td>16.5%</td>
<td>ë³€ë™ ì—†ìŒ</td>
</tr>
<tr>
<td>ê°œë³„ì£¼</td>
<td>39.5%</td>
<td>â†’</td>
<td>39.5%</td>
<td>ë³€ë™ ì—†ìŒ</td>
</tr>
</tbody></table></div>
  <p style="margin: 10px 0 6px; font-weight: 600;">ì£¼ìš” ë³€ê²½ì‚¬í•­</p>
  <ul style="margin: 0; padding-left: 18px; line-height: 1.6;">
    <li>VWO(ì‹ í¥êµ­) ë¹„ì¤‘: 3% â†’ 5%</li>
    <li>QQQ(ë‚˜ìŠ¤ë‹¥) ë¹„ì¤‘: 5% â†’ 3%</li>
    <li>ì´ ë¹„ì¤‘: 100% ìœ ì§€</li>
  </ul>

  <h3 style="margin: 16px 0 6px; font-size: 14px;">30ë…„ ì‹œë‚˜ë¦¬ì˜¤ ë¶„ì„ </h3>
  <div class="table-wrapper" style="margin-top:10px;">
<table class="portfolio-table">
<thead><tr>
<th>ì‹œë‚˜ë¦¬ì˜¤</th>
<th>ì—° ìˆ˜ìµë¥ </th>
<th>2055ë…„ ì˜ˆìƒì•¡</th>
<th>ëª©í‘œ ë‹¬ì„±</th>
</tr></thead><tbody>
<tr>
<td>ê³µê²©ì </td>
<td>18%</td>
<td>ì•½ 227ì–µ ì›</td>
<td>2.3ë°° ë‹¬ì„±</td>
</tr>
<tr>
<td>ê¸°ì¤€</td>
<td>15%</td>
<td>ì•½ 109ì–µ ì›</td>
<td>ëª©í‘œ ë‹¬ì„± âœ“</td>
</tr>
<tr>
<td>ë³´ìˆ˜ì </td>
<td>12%</td>
<td>ì•½ 51ì–µ ì›</td>
<td>ëª©í‘œ ë¯¸ë‹¬</td>
</tr>
</tbody></table></div>

  <h3 style="margin: 16px 0 6px; font-size: 14px;">í•µì‹¬ ì¸ì‚¬ì´íŠ¸</h3>

  <p style="margin: 10px 0 6px; font-weight: 600;">1) ëª©í‘œ ë‹¬ì„± í•„ìˆ˜ ìˆ˜ìµë¥ : ì—° 15%</p>
  <ul style="margin: 0; padding-left: 18px; line-height: 1.6;">
    <li>ì—° 12%(S&P 500 í‰ê·  ìˆ˜ì¤€) ê¸°ì¤€: 2055ë…„ ì•½ 51ì–µ ì› â†’ ëª©í‘œ ë¯¸ë‹¬</li>
    <li>ì—° 15% ë‹¬ì„± ì‹œ: 2055ë…„ ì•½ 109ì–µ ì› â†’ ëª©í‘œ ë‹¬ì„±</li>
    <li>ì—° 18% ë‹¬ì„± ì‹œ: 2055ë…„ ì•½ 227ì–µ ì› â†’ ëª©í‘œì˜ 2.3ë°°</li>
  </ul>

  <p style="margin: 12px 0 6px; font-weight: 600;">2) 15% ìˆ˜ìµë¥  ë‹¬ì„± ì „ëµ</p>
  <ul style="margin: 0; padding-left: 18px; line-height: 1.6;">
    <li>S&P 500(36%)ì˜ 10~11% + ì„±ì¥ì£¼(28%)ì˜ 20%+ ì¡°í•©ìœ¼ë¡œ í‰ê·  15% ê°€ëŠ¥</li>
    <li>ê¸°ìˆ ì£¼ ë¹„ì¤‘(ì‹¤ì§ˆ 40~50%)ì´ ì§€ì†ì ìœ¼ë¡œ ì‹œì¥ ì•„ì›ƒí¼í¼ í•„ìš”</li>
    <li>ë¯¸ë˜ í…Œë§ˆ(15.5%) ì¤‘ ì¼ë¶€ì˜ ì„±ê³µì  ì„±ì¥ì´ í•„ìš”</li>
    <li>ì •ê¸° ë¦¬ë°¸ëŸ°ì‹±ìœ¼ë¡œ ìˆ˜ìµë¥  1~2%p ì¶”ê°€ í™•ë³´ ê°€ëŠ¥</li>
  </ul>

  <p style="margin: 12px 0 6px; font-weight: 600;">3) ë¦¬ìŠ¤í¬ ê´€ë¦¬</p>
  <ul style="margin: 0; padding-left: 18px; line-height: 1.6;">
    <li>ê¸°ìˆ ì£¼ ì§‘ì¤‘ë„ê°€ ë†’ì•„ ì¡°ì • ì‹œ -30% ì´ìƒ ì†ì‹¤ ê°€ëŠ¥</li>
    <li>ëŒ€ì‘: ì¡°ì •ì„ ë§¤ìˆ˜ ê¸°íšŒë¡œ í™œìš©, ê³µí¬ ë§¤ë„ ê¸ˆì§€</li>
    <li>VWO ì¦ì•¡(5%)ìœ¼ë¡œ ì§€ì—­ ë¶„ì‚° ê°œì„  â†’ ë¦¬ìŠ¤í¬ ì™„í™”</li>
  </ul>

  <h3 style="margin: 16px 0 6px; font-size: 14px;">ì¢…í•© í‰ê°€</h3>
  <p style="margin: 0 0 6px;"><strong>í‰ê°€ ì ìˆ˜:</strong> 8.5/10</p>
  <p style="margin: 0 0 6px; color: var(--text-sub);">VWO ì¦ì•¡ìœ¼ë¡œ ì§€ì—­ ë¶„ì‚°ì´ ê°œì„ ë˜ì–´ í‰ê°€ ì ìˆ˜ê°€ 8.0ì—ì„œ 8.5ë¡œ ìƒìŠ¹í–ˆìŠµë‹ˆë‹¤.</p>

  <p style="margin: 12px 0 6px; font-weight: 600;">ëª©í‘œ ë‹¬ì„± ê°€ëŠ¥ì„±</p>
  <ul style="margin: 0; padding-left: 18px; line-height: 1.6;">
    <li>í˜„ì‹¤ì : ì—° 15% ìˆ˜ìµë¥ ì€ ë„ì „ì ì´ì§€ë§Œ ë‹¬ì„± ê°€ëŠ¥í•œ ëª©í‘œ</li>
    <li>ê¸°ìˆ ì£¼ ë¹„ì¤‘ì´ ë†’ì•„ AI í˜ëª… ìˆ˜í˜œ ì‹œ 15~18% ê°€ëŠ¥</li>
    <li>ê·œìœ¨ ìˆëŠ” ìš´ìš©ê³¼ ë¦¬ë°¸ëŸ°ì‹±ì´ ì„±ê³µì˜ í•µì‹¬</li>
  </ul>

  <h3 style="margin: 16px 0 6px; font-size: 14px;">ì¶”ê°€ ìµœì í™” ì œì•ˆ</h3>

  <p style="margin: 10px 0 6px; font-weight: 600;">1) ê³ ë¹„ìš© ETF ì¬ê²€í† </p>
  <ul style="margin: 0; padding-left: 18px; line-height: 1.6;">
    <li>ARKQ(0.75%), TAN(0.70%), GRID(0.63%)ëŠ” ì¥ê¸°ì ìœ¼ë¡œ ë¹„ìš© ë¶€ë‹´</li>
    <li>ì˜ˆì‹œ: 0.70% ìˆ˜ìˆ˜ë£ŒëŠ” 30ë…„ê°„ ì•½ 19%ì˜ ìˆ˜ìµë¥  ì†ì‹¤ë¡œ í•´ì„ ê°€ëŠ¥</li>
    <li>ì œì•ˆ: 1~2ê°œë¥¼ ì €ë¹„ìš© ëŒ€ì•ˆ ë˜ëŠ” ê°œë³„ì£¼ë¡œ ëŒ€ì²´ ê³ ë ¤</li>
  </ul>

  <p style="margin: 12px 0 6px; font-weight: 600;">2) ì„¹í„° ë‹¤ê°í™”</p>
  <ul style="margin: 0; padding-left: 18px; line-height: 1.6;">
    <li>í˜„ì¬: ê¸°ìˆ  60%+, í—¬ìŠ¤ì¼€ì–´ 2%, ê¸ˆìœµ 0%, ì†Œë¹„ì¬ 0%</li>
    <li>ì œì•ˆ: ê¸ˆìœµ ETF(XLF) 2~3% ì¶”ê°€ë¡œ ë°¸ë¥˜ ë…¸ì¶œ í™•ë³´</li>
  </ul>

  <p style="margin: 12px 0 6px; font-weight: 600;">3) ì •ê¸° ì ê²€ ê³„íš</p>
  <ul style="margin: 0; padding-left: 18px; line-height: 1.6;">
    <li>ì—° 1íšŒ ë¦¬ë°¸ëŸ°ì‹±(ëª©í‘œ ë¹„ì¤‘ Â±5%p ì´ˆê³¼ ì‹œ)</li>
    <li>ë¶„ê¸° 1íšŒ í¬íŠ¸í´ë¦¬ì˜¤ ì„±ê³¼ ì ê²€</li>
    <li>5ë…„ë§ˆë‹¤ ì „ëµ ì¬ê²€í†  ë° ì„¹í„° ì¡°ì •</li>
  </ul>

  <p style="margin: 14px 0 0; font-weight: 600;">ì„±ê³µì˜ í•µì‹¬</p>
  <p style="margin: 4px 0 0; color: var(--text-sub);">ì‹œì¥ ë³€ë™ì„±ì— í”ë“¤ë¦¬ì§€ ì•ŠëŠ” ì¥ê¸° íˆ¬ì ì›ì¹™</p>
</div>
  </details>
</section>

</div>

<script>
  // í¬íŠ¸í´ë¦¬ì˜¤ ë°ì´í„°
  const portfolioData = [
    { name: "SPY / VOO (S&P 500)", ticker: "SPY / VOO", type: "etf", typeLabel: "ETF Â· ì§€ìˆ˜", weight: 36, etfKey: "SPY_VOO" },
    { name: "ì•ŒíŒŒë²³ A", ticker: "GOOGL", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 5.5 },
    { name: "GLD", ticker: "GLD", type: "etf", typeLabel: "ETF Â· ì›ìì¬", weight: 5, etfKey: "GLD" },
    { name: "VWO", ticker: "VWO", type: "etf", typeLabel: "ETF Â· ì‹ í¥êµ­", weight: 5, etfKey: "VWO" },
    { name: "JEPQ", ticker: "JEPQ", type: "etf", typeLabel: "ETF Â· ë°°ë‹¹/ì˜µì…˜", weight: 4, etfKey: "JEPQ" },
    { name: "XAR", ticker: "XAR", type: "etf", typeLabel: "ETF Â· í•­ê³µ/ë°©ì‚°", weight: 4, etfKey: "XAR" },
    { name: "í…ŒìŠ¬ë¼", ticker: "TSLA", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 3.5 },
    { name: "íŒ”ë€í‹°ì–´", ticker: "PLTR", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 3 },
    { name: "QQQ", ticker: "QQQ", type: "etf", typeLabel: "ETF Â· IT", weight: 3, etfKey: "QQQ" },
    { name: "QTUM", ticker: "QTUM", type: "etf", typeLabel: "ETF Â· í€€í…€/ë¨¸ì‹ ëŸ¬ë‹", weight: 3, etfKey: "QTUM" },
    { name: "GRID", ticker: "GRID", type: "etf", typeLabel: "ETF Â· ì „ë ¥ ì¸í”„ë¼", weight: 3, etfKey: "GRID" },
    { name: "TAN", ticker: "TAN", type: "etf", typeLabel: "ETF Â· íƒœì–‘ê´‘", weight: 2.5, etfKey: "TAN" },
    { name: "VEA", ticker: "VEA", type: "etf", typeLabel: "ETF Â· ì„ ì§„êµ­(ë¯¸êµ­ ì œì™¸)", weight: 2.5, etfKey: "VEA" },
    { name: "ì• í”Œ", ticker: "AAPL", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 2 },
    { name: "ì—”ë¹„ë””ì•„", ticker: "NVDA", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 2 },
    { name: "ë§ˆì´í¬ë¡œì†Œí”„íŠ¸", ticker: "MSFT", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 2 },
    { name: "ì•„ë§ˆì¡´", ticker: "AMZN", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 2 },
    { name: "ì¼ë¼ì´ ë¦´ë¦¬", ticker: "LLY", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 2 },
    { name: "ë©”íƒ€", ticker: "META", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 2 },
    { name: "ARKQ", ticker: "ARKQ", type: "etf", typeLabel: "ETF Â· í˜ì‹ /ë¡œë´‡", weight: 2, etfKey: "ARKQ" },
    { name: "ì•„ì´ì˜¨í", ticker: "IONQ", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 1.5 },
    { name: "ë¸Œë¡œë“œì»´", ticker: "AVGO", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 1.5 },
    { name: "ì½”ì¸ë² ì´ìŠ¤", ticker: "COIN", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 1 },
    { name: "í…œí¼ìŠ¤ AI", ticker: "TEM", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 1 },
    { name: "ë¡œì¼“ë©", ticker: "RKLB", type: "stock", typeLabel: "ê°œë³„ì£¼", weight: 1 }
  ];

  // ETF ìƒì„¸ ì •ë³´
  const etfDetails = {
    SPY_VOO: {
      fullName: "SPY / VOO",
      ticker: "SPY Â· VOO",
      description: "ë¯¸êµ­ ëŒ€í˜•ì£¼ 500ê°œë¡œ êµ¬ì„±ëœ S&P 500 ì§€ìˆ˜ë¥¼ ì¶”ì¢…í•˜ëŠ” ëŒ€í‘œ ì§€ìˆ˜ ETFë“¤. ë¯¸êµ­ ì£¼ì‹ ì‹œì¥ ì „ì²´ì˜ ì„±ì¥ì„ ë„“ê²Œ ê°€ì ¸ê°€ëŠ” ì—­í• ì„ í•˜ëŠ” ì½”ì–´ ìì‚°.",
      meta: "ìš´ìš© ë³´ìˆ˜ëŠ” ëŒ€ëµ ì—° 0.03~0.09% ìˆ˜ì¤€(ìƒí’ˆë³„ ìƒì´). ìƒìœ„ ë³´ìœ  ì¢…ëª©ì€ NVIDIA, Apple, Microsoft, Amazon, Alphabet ë“±ì´ ëŒ€í‘œì ."
    },
    QQQ: {
      fullName: "Invesco QQQ",
      ticker: "QQQ",
      description: "ë‚˜ìŠ¤ë‹¥ 100 ì§€ìˆ˜ë¥¼ ì¶”ì¢…í•˜ëŠ” ì„±ì¥ì£¼/ê¸°ìˆ ì£¼ ì¤‘ì‹¬ ETF. ê¸ˆìœµì„ ì œì™¸í•œ ë¯¸êµ­ ëŒ€í˜• ê¸°ìˆ Â·ì»¤ë®¤ë‹ˆì¼€ì´ì…˜Â·ì†Œë¹„ì£¼ ë¹„ì¤‘ì´ ë§¤ìš° ë†’ìŒ.",
      meta: "ìš´ìš© ë³´ìˆ˜ëŠ” ëŒ€ëµ ì—° 0.20% ìˆ˜ì¤€. ìƒìœ„ ë³´ìœ  ì¢…ëª©ì€ NVIDIA, Apple, Microsoft, Amazon, Meta, Alphabet ë“±ì´ ëŒ€ë¶€ë¶„ì„ ì°¨ì§€."
    },
    GLD: {
      fullName: "SPDR Gold Shares",
      ticker: "GLD",
      description: "ê¸ˆ í˜„ë¬¼(ê³¨ë“œ ë°”)ì— ì§ì ‘ íˆ¬ìí•˜ëŠ” ë¬¼ë¦¬ì  ê¸ˆ ETF. ê¸ˆ ê°€ê²©ì„ ìˆ˜ìˆ˜ë£Œ ì°¨ê° í›„ ìµœëŒ€í•œ ê·¸ëŒ€ë¡œ ë”°ë¼ê°€ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•¨.",
      meta: "ìš´ìš© ë³´ìˆ˜ëŠ” ëŒ€ëµ ì—° 0.40% ì•ˆíŒ. ê¸°ì´ˆìì‚°ì€ ëŸ°ë˜ ê¸ˆê´´ì‹œì¥ ê·œê²©ì— ë§ëŠ” ê¸ˆ ë°” 100%ì— ê°€ê¹Œìš´ ë¹„ì¤‘."
    },
    JEPQ: {
      fullName: "JPMorgan Nasdaq Equity Premium Income",
      ticker: "JEPQ",
      description: "ë‚˜ìŠ¤ë‹¥ ì„±ì¥ì£¼ì— íˆ¬ìí•˜ë©´ì„œ ì½œì˜µì…˜ ì „ëµì„ í™œìš©í•´ í”„ë¦¬ë¯¸ì—„(ë¶„ë°°ê¸ˆ)ì„ ë…¸ë¦¬ëŠ” ETF.",
      meta: "ìš´ìš© ë³´ìˆ˜ëŠ” ëŒ€ëµ ì—° 0.35~0.40%ëŒ€."
    },
    XAR: {
      fullName: "SPDR S&P Aerospace & Defense ETF",
      ticker: "XAR",
      description: "í•­ê³µÂ·ë°©ìœ„ì‚°ì—… ì„¹í„°ì— ì§‘ì¤‘ íˆ¬ìí•˜ëŠ” ETF.",
      meta: "ìš´ìš© ë³´ìˆ˜: ì—° 0.35% ìˆ˜ì¤€. ìƒìœ„ ë³´ìœ  ì¢…ëª© (ì˜ˆì‹œ, ë¹„ì¤‘ì€ 2026-01 ê¸°ì¤€ ëŒ€ëµ):",
      holdings: [
        { symbol: "KARMAN", name: "Karman Holdings", weight: "ì•½ 4.6%" },
        { symbol: "KTOS", name: "Kratos Defense (KTOS)", weight: "ì•½ 4.5%" },
        { symbol: "RKLB", name: "Rocket Lab (RKLB)", weight: "ì•½ 4.4%" },
        { symbol: "AVAV", name: "AeroVironment (AVAV)", weight: "ì•½ 4.3%" },
        { symbol: "LMT", name: "Lockheed Martin (LMT)", weight: "ì•½ 3.4%" }
      ]
    },
    ARKQ: {
      fullName: "ARK Autonomous Tech & Robotics ETF",
      ticker: "ARKQ",
      description: "ììœ¨ì£¼í–‰, ë¡œë´‡, ë“œë¡ , ìš°ì£¼, ì‚°ì—… ìë™í™” ë“± í…Œë§ˆì— ì§‘ì¤‘í•˜ëŠ” ì•¡í‹°ë¸Œ ETF.",
      meta: "ìš´ìš© ë³´ìˆ˜: ì—° 0.75% ìˆ˜ì¤€. ìƒìœ„ ë³´ìœ  ì¢…ëª© (ì˜ˆì‹œ, ë¹„ì¤‘ì€ ì‹œì ì— ë”°ë¼ ë³€ë™):",
      holdings: [
        { symbol: "TSLA", name: "Tesla (TSLA)", weight: "ì•½ 10%" },
        { symbol: "KTOS", name: "Kratos Defense (KTOS)", weight: "ì•½ 10%" },
        { symbol: "TER", name: "Teradyne (TER)", weight: "ì•½ 9~10%" },
        { symbol: "RKLB", name: "Rocket Lab (RKLB)", weight: "ì•½ 6%" }
      ]
    },
    QTUM: {
      fullName: "Defiance Quantum ETF",
      ticker: "QTUM",
      description: "ì–‘ìì»´í“¨íŒ… ë° ë¨¸ì‹ ëŸ¬ë‹ ê´€ë ¨ ê¸°ì—…ì— íˆ¬ìí•˜ëŠ” í…Œë§ˆí˜• ETF.",
      meta: "ìš´ìš© ë³´ìˆ˜: ëŒ€ëµ ì—° 0.40% ìˆ˜ì¤€. ìƒìœ„ ë³´ìœ  ì¢…ëª© (ì˜ˆì‹œ, ì•½ ë¹„ì¤‘):",
      holdings: [
        { symbol: "QNC", name: "Quantum eMotion (QNC)", weight: "ì•½ 2%" },
        { symbol: "MU", name: "Micron Technology (MU)", weight: "ì•½ 1.6%" },
        { symbol: "LRCX", name: "Lam Research (LRCX)", weight: "ì•½ 1.5%" },
        { symbol: "ONTO", name: "Onto Innovation (ONTO)", weight: "ì•½ 1.5%" },
        { symbol: "KLAC", name: "KLA (KLAC)", weight: "ì•½ 1.5%" }
      ]
    },
    VWO: {
      fullName: "Vanguard FTSE Emerging Markets ETF",
      ticker: "VWO",
      description: "FTSE Emerging Markets ì§€ìˆ˜ë¥¼ ì¶”ì¢…í•˜ëŠ” ëŒ€í‘œ ì‹ í¥êµ­ ì£¼ì‹ ETF.",
      meta: "ìš´ìš© ë³´ìˆ˜: ëŒ€ëµ ì—° 0.07% ìˆ˜ì¤€. ìƒìœ„ ë³´ìœ  ì¢…ëª© (ì˜ˆì‹œ, ì•½ ë¹„ì¤‘):",
      holdings: [
        { symbol: "TSMC", name: "TSMC (2330.TW / TSM)", weight: "ì•½ 11%" },
        { symbol: "TENCENT", name: "Tencent (0700.HK)", weight: "ì•½ 4~5%" },
        { symbol: "BABA", name: "Alibaba (9988.HK)", weight: "ì•½ 3%" },
        { symbol: "HDFCBANK", name: "HDFC Bank", weight: "ì•½ 1.1%" },
        { symbol: "RELIANCE", name: "Reliance Industries", weight: "ì•½ 1.1%" }
      ]
    },
    GRID: {
      fullName: "First Trust Nasdaq Clean Edge Smart Grid Infra",
      ticker: "GRID",
      description: "ìŠ¤ë§ˆíŠ¸ ê·¸ë¦¬ë“œÂ·ì „ë ¥ ì¸í”„ë¼ ê´€ë ¨ ê¸°ì—…ì— ì§‘ì¤‘ íˆ¬ìí•˜ëŠ” ETF.",
      meta: "ìš´ìš© ë³´ìˆ˜: ì—° 0.63% ìˆ˜ì¤€. ìƒìœ„ ë³´ìœ  ì¢…ëª© (ì˜ˆì‹œ, ì•½ ë¹„ì¤‘):",
      holdings: [
        { symbol: "ABB", name: "ABB Ltd", weight: "ì•½ 8%" },
        { symbol: "NG", name: "National Grid", weight: "ì•½ 8%" },
        { symbol: "SCHNEIDER", name: "Schneider Electric", weight: "ì•½ 8%" },
        { symbol: "JCI", name: "Johnson Controls", weight: "ì•½ 7~8%" },
        { symbol: "ETN", name: "Eaton", weight: "ì•½ 7%" }
      ]
    },
    TAN: {
      fullName: "Invesco Solar ETF",
      ticker: "TAN",
      description: "ì „ ì„¸ê³„ íƒœì–‘ê´‘ ì—ë„ˆì§€ ê¸°ì—…ì— ì§‘ì¤‘ íˆ¬ìí•˜ëŠ” ì„¹í„° ETF.",
      meta: "ìš´ìš© ë³´ìˆ˜: ëŒ€ëµ ì—° 0.70% ìˆ˜ì¤€. ìƒìœ„ ë³´ìœ  ì¢…ëª© (ì˜ˆì‹œ, ì•½ ë¹„ì¤‘):",
      holdings: [
        { symbol: "FSLR", name: "First Solar (FSLR)", weight: "ì•½ 10%" },
        { symbol: "NXT", name: "Nextracker (NXT)", weight: "ì•½ 10%" },
        { symbol: "RUN", name: "Sunrun (RUN)", weight: "ì•½ 7%" },
        { symbol: "ENPH", name: "Enphase Energy (ENPH)", weight: "ì•½ 6%" }
      ]
    },
    VEA: {
      fullName: "Vanguard FTSE Developed Markets ETF",
      ticker: "VEA",
      description: "ë¯¸êµ­ì„ ì œì™¸í•œ ì„ ì§„êµ­ ì£¼ì‹ì— ë¶„ì‚° íˆ¬ìí•˜ëŠ” ETF.",
      meta: "ìš´ìš© ë³´ìˆ˜: ëŒ€ëµ ì—° 0.03% ìˆ˜ì¤€. ìƒìœ„ ë³´ìœ  ì¢…ëª© (ì˜ˆì‹œ, ì•½ ë¹„ì¤‘):",
      holdings: [
        { symbol: "ASML", name: "ASML", weight: "ì•½ 1.5%" },
        { symbol: "SAMSUNG", name: "Samsung Electronics", weight: "ì•½ 1.2%" },
        { symbol: "AZN", name: "AstraZeneca", weight: "ì•½ 1.0%" },
        { symbol: "ROCHE", name: "Roche", weight: "ì•½ 1.0% ë‚´ì™¸" }
      ]
    }
  };

  // ë³´ìœ  ì¢…ëª© ì„¤ëª…
  const holdingDescriptions = {
    XAR: {
      KARMAN: "Karman Holdings: í•­ê³µìš°ì£¼ ë¶€í’ˆÂ·ì„œë¹„ìŠ¤ ì—…ì²´ë¡œ, ë¯¼ê°„/êµ°ìš© í•­ê³µê¸°ì™€ ìš°ì£¼ ê´€ë ¨ ë¶€í’ˆì„ ê³µê¸‰.",
      KTOS: "Kratos Defense (KTOS): ë¬´ì¸ê¸°(UAV), ìœ„ì„± í†µì‹ , ë°©ì‚° ì‹œìŠ¤í…œì„ ë§Œë“œëŠ” ë¯¸êµ­ ë°©ìœ„ì‚°ì—… íšŒì‚¬.",
      RKLB: "Rocket Lab (RKLB): ì†Œí˜• ìœ„ì„±ì„ ìœ„í•œ ë¡œì¼“ ë°œì‚¬ ì„œë¹„ìŠ¤ì™€ ìœ„ì„± í”Œë«í¼ì„ ì œê³µí•˜ëŠ” ë‰´ì§ˆëœë“œ/ë¯¸êµ­ ìš°ì£¼ ê¸°ì—….",
      AVAV: "AeroVironment (AVAV): ì†Œí˜• ë¬´ì¸ê¸°Â·ë¯¸ì‚¬ì¼ ì‹œìŠ¤í…œì„ ë§Œë“œëŠ” ë°©ì‚° ì—…ì²´ë¡œ, ì •ì°° ë“œë¡ ì— ê°•ì .",
      LMT: "Lockheed Martin (LMT): F-35 ì „íˆ¬ê¸°, ë¯¸ì‚¬ì¼, ìš°ì£¼ ì‹œìŠ¤í…œ ë“± ë‹¤ì–‘í•œ ë°©ì‚° ì¥ë¹„ë¥¼ ìƒì‚°í•˜ëŠ” ê¸€ë¡œë²Œ 1ìœ„ê¸‰ ë°©ì‚° ê¸°ì—…."
    },
    ARKQ: {
      TSLA: "Tesla (TSLA): ì „ê¸°ì°¨, ì—ë„ˆì§€ ì €ì¥, ììœ¨ì£¼í–‰ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•˜ëŠ” ëŒ€í‘œ ì„±ì¥ì£¼.",
      KTOS: "Kratos Defense: ì €ê°€Â·íš¨ìœ¨ì ì¸ ë¬´ì¸ê¸°Â·ë°©ì‚° ì†”ë£¨ì…˜ìœ¼ë¡œ ARKê°€ ìì£¼ ë‹´ëŠ” ë°©ì‚° ì„±ì¥ì£¼.",
      TER: "Teradyne (TER): ë°˜ë„ì²´Â·ì „ì í…ŒìŠ¤íŠ¸ ì¥ë¹„ë¥¼ ë§Œë“œëŠ” íšŒì‚¬ë¡œ, ê³µì¥ ìë™í™”(ë¡œë´‡) ì‚¬ì—…ë„ í•¨ê»˜ ì˜ìœ„.",
      RKLB: "Rocket Lab: ì†Œí˜• ìœ„ì„± ë°œì‚¬ ë° ìš°ì£¼ ì¸í”„ë¼ í”Œë«í¼ ê¸°ì—…ìœ¼ë¡œ, ARKQì˜ ìš°ì£¼ í…Œë§ˆ í•µì‹¬ ë³´ìœ ì£¼ ì¤‘ í•˜ë‚˜."
    },
    QTUM: {
      QNC: "Quantum eMotion (QNC): ì–‘ì ë‚œìˆ˜ ìƒì„± ê¸°ìˆ  ë“± ë³´ì•ˆìš© ì–‘ìê¸°ìˆ ì„ ì—°êµ¬Â·ê°œë°œí•˜ëŠ” ìºë‚˜ë‹¤ ê¸°ì—….",
      MU: "Micron (MU): ë©”ëª¨ë¦¬ ë°˜ë„ì²´(DRAM, NAND) ëŒ€í˜• ì œì¡°ì‚¬ë¡œ, ë°ì´í„°ì„¼í„°Â·AIÂ·ëª¨ë°”ì¼ ìˆ˜ìš”ì— ë…¸ì¶œ.",
      LRCX: "Lam Research (LRCX): ë°˜ë„ì²´ ì œì¡°ìš© ì‹ê°Â·ì¦ì°© ì¥ë¹„ ë¶„ì•¼ ê¸€ë¡œë²Œ ì„ ë‘ ì—…ì²´.",
      ONTO: "Onto Innovation (ONTO): ë°˜ë„ì²´ ê³µì • ê²€ì‚¬Â·ê³„ì¸¡ ì¥ë¹„ íšŒì‚¬ë¡œ, ì›¨ì´í¼ ê²€ì‚¬ ì†”ë£¨ì…˜ì— ê°•ì .",
      KLAC: "KLA (KLAC): ë°˜ë„ì²´ ê³µì • ì œì–´Â·ê²€ì‚¬ ì¥ë¹„ ê¸€ë¡œë²Œ ê°•ì. ìˆ˜ìœ¨ ê´€ë¦¬ì™€ ê³µì • ì•ˆì •í™”ì— í•„ìˆ˜ ì†”ë£¨ì…˜ì„ ì œê³µ."
    },
    VWO: {
      TSMC: "TSMC: ì„¸ê³„ ìµœëŒ€ íŒŒìš´ë“œë¦¬(ë°˜ë„ì²´ ìœ„íƒìƒì‚°) ì—…ì²´. ê³ ê¸‰ ê³µì •(3nm ë“±)ì—ì„œ ì••ë„ì ì¸ ì ìœ ìœ¨ì„ ê°€ì§.",
      TENCENT: "Tencent: ìœ„ì±—, ê²Œì„, í•€í…Œí¬, í´ë¼ìš°ë“œ ë“± ì¤‘êµ­ ë””ì§€í„¸ ìƒíƒœê³„ë¥¼ ì´ë„ëŠ” ë¹…í…Œí¬ ê¸°ì—….",
      BABA: "Alibaba: ì „ììƒê±°ë˜(íƒ€ì˜¤ë°”ì˜¤Â·í‹°ëª°), í´ë¼ìš°ë“œ(ì•Œë¦¬ë°”ë°” í´ë¼ìš°ë“œ) ë“±ì„ ê°€ì§„ ì¤‘êµ­ ë¹…í…Œí¬.",
      HDFCBANK: "HDFC Bank: ì¸ë„ ëŒ€í˜• ë¯¼ê°„ ì€í–‰ìœ¼ë¡œ, ì†Œë§¤Â·ê¸°ì—… ê¸ˆìœµ ëª¨ë‘ì—ì„œ ì¸ë„ ì„±ì¥ì— ë ˆë²„ë¦¬ì§€.",
      RELIANCE: "Reliance Industries: ì¸ë„ ëŒ€í˜• ë³µí•©ê¸°ì—…. ì—ë„ˆì§€Â·ë¦¬í…Œì¼Â·í†µì‹ (Jio) ë“± ì—¬ëŸ¬ ì„±ì¥ ì¶•ì„ ë³´ìœ ."
    },
    GRID: {
      ABB: "ABB: ì „ë ¥Â·ìë™í™”Â·ë¡œë´‡ ë“± ì‚°ì—… ì¸í”„ë¼ ì†”ë£¨ì…˜ì„ ì œê³µí•˜ëŠ” ìŠ¤ìœ„ìŠ¤ ê¸°ë°˜ ê¸€ë¡œë²Œ ê¸°ì—….",
      NG: "National Grid: ì˜êµ­Â·ë¯¸êµ­ì—ì„œ ì†¡ë°°ì „ë§ì„ ìš´ì˜í•˜ëŠ” ì „ë ¥ ìœ í‹¸ë¦¬í‹°.",
      SCHNEIDER: "Schneider Electric: ì „ë ¥ ê´€ë¦¬Â·ìë™í™” ì†”ë£¨ì…˜ ê¸€ë¡œë²Œ ë¦¬ë”. ë¹Œë”©Â·ë°ì´í„°ì„¼í„°Â·ì‚°ì—…ìš© ì „ë ¥ ê´€ë¦¬ì— ê°•ì .",
      JCI: "Johnson Controls: ë¹Œë”© ê´€ë¦¬ ì‹œìŠ¤í…œ, HVAC, ìŠ¤ë§ˆíŠ¸ ë¹Œë”© ì†”ë£¨ì…˜ì„ ì œê³µí•˜ëŠ” ë¯¸êµ­ ê¸°ì—….",
      ETN: "Eaton: ì „ë ¥ ê´€ë¦¬, ë°°ì „ ì¥ë¹„, ì‚°ì—…ìš© ë¶€í’ˆì„ ìƒì‚°í•˜ëŠ” ê¸€ë¡œë²Œ ì „ë ¥ ì¸í”„ë¼ ê¸°ì—…."
    },
    TAN: {
      FSLR: "First Solar (FSLR): ë°•ë§‰(Thin-film) íƒœì–‘ê´‘ ëª¨ë“ˆì„ ë§Œë“œëŠ” ë¯¸êµ­ ì—…ì²´. ìœ í‹¸ë¦¬í‹°ê¸‰ ë°œì „ì†Œ ì¤‘ì‹¬.",
      NXT: "Nextracker (NXT): íƒœì–‘ê´‘ íŒ¨ë„ì„ íƒœì–‘ ë°©í–¥ìœ¼ë¡œ ì›€ì§ì—¬ íš¨ìœ¨ì„ ë†’ì´ëŠ” íŠ¸ë˜ì»¤ ì‹œìŠ¤í…œ ì „ë¬¸ íšŒì‚¬.",
      RUN: "Sunrun (RUN): ë¯¸êµ­ ì£¼íƒìš© íƒœì–‘ê´‘ ì„¤ì¹˜ ë° ê¸ˆìœµ ì†”ë£¨ì…˜ ì œê³µ ì—…ì²´.",
      ENPH: "Enphase Energy (ENPH): íƒœì–‘ê´‘ìš© ë§ˆì´í¬ë¡œ ì¸ë²„í„°, ì—ë„ˆì§€ ì €ì¥ ì‹œìŠ¤í…œ ë“±ì„ ë§Œë“œëŠ” íŒŒì›Œ ì¼ë ‰íŠ¸ë¡œë‹‰ìŠ¤ ê¸°ì—…."
    },
    VEA: {
      ASML: "ASML: ê·¹ìì™¸ì„ (EUV) ë…¸ê´‘ ì¥ë¹„ë¥¼ ì‚¬ì‹¤ìƒ ë…ì  ê³µê¸‰í•˜ëŠ” ë„¤ëœë€ë“œ ë°˜ë„ì²´ ì¥ë¹„ íšŒì‚¬.",
      SAMSUNG: "Samsung Electronics: ë©”ëª¨ë¦¬Â·ëª¨ë°”ì¼Â·ê°€ì „ ë“± ë‹¤ê°í™”ëœ ì‚¬ì—…ì„ ê°€ì§„ í•œêµ­ ëŒ€í‘œ IT ëŒ€í˜•ì£¼.",
      AZN: "AstraZeneca: ì˜êµ­-ìŠ¤ì›¨ë´ê³„ ê¸€ë¡œë²Œ ì œì•½ì‚¬. í•­ì•”Â·ë©´ì—­ì§ˆí™˜ ë“± í˜ì‹  ì‹ ì•½ íŒŒì´í”„ë¼ì¸ì„ ë³´ìœ .",
      ROCHE: "Roche: ìŠ¤ìœ„ìŠ¤ ì œì•½Â·ì§„ë‹¨ ê¸°ì—…ìœ¼ë¡œ, í•­ì•”ì œì™€ ì§„ë‹¨ì¥ë¹„ì—ì„œ ì„¸ê³„ì ì¸ ê²½ìŸë ¥ì„ ë³´ìœ ."
    }
  };

  let currentSort = { column: null, direction: 'asc' };
  let filteredData = [...portfolioData];

  document.addEventListener("DOMContentLoaded", function () {
    updateSummary();
    renderPortfolioTable();
    renderPieChart();
    renderProjectionChart();
    setupEventListeners();
  });

  // ìš”ì•½ ì •ë³´ ì—…ë°ì´íŠ¸
  function updateSummary() {
    const total = portfolioData.length;
    const etfItems = portfolioData.filter(item => item.type === 'etf');
    const stockItems = portfolioData.filter(item => item.type === 'stock');
    
    const etfWeight = etfItems.reduce((sum, item) => sum + item.weight, 0);
    const stockWeight = stockItems.reduce((sum, item) => sum + item.weight, 0);
    const totalWeight = etfWeight + stockWeight;

    document.getElementById('totalCount').textContent = total + 'ê°œ';
    document.getElementById('etfWeight').textContent = etfWeight.toFixed(1) + '%';
    document.getElementById('stockWeight').textContent = stockWeight.toFixed(1) + '%';
    document.getElementById('totalWeight').textContent = totalWeight.toFixed(1) + '%';
  }

  // í¬íŠ¸í´ë¦¬ì˜¤ í…Œì´ë¸” ë Œë”ë§
  function renderPortfolioTable() {
    const tbody = document.getElementById('portfolioTableBody');
    tbody.innerHTML = '';

    filteredData.forEach((item) => {
      const tr = document.createElement('tr');
      if (item.etfKey) {
        tr.className = 'etf-row';
        tr.dataset.etf = item.etfKey;
      }

      const nameCell = document.createElement('td');
      if (item.etfKey) {
        const btn = document.createElement('button');
        btn.type = 'button';
        btn.className = 'etf-link';
        btn.textContent = item.name;
        nameCell.appendChild(btn);
      } else {
        nameCell.textContent = item.name;
      }

      const tickerCell = document.createElement('td');
      tickerCell.className = 'ticker';
      tickerCell.textContent = item.ticker;

      const typeCell = document.createElement('td');
      const badge = document.createElement('span');
      badge.className = item.type === 'etf' ? 'badge-etf' : 'badge-stock';
      badge.textContent = item.typeLabel;
      typeCell.appendChild(badge);

      const weightCell = document.createElement('td');
      weightCell.className = 'weight-cell';
      weightCell.textContent = item.weight + '%';

      tr.appendChild(nameCell);
      tr.appendChild(tickerCell);
      tr.appendChild(typeCell);
      tr.appendChild(weightCell);
      tbody.appendChild(tr);

      // ETF ìƒì„¸ í–‰
      if (item.etfKey && etfDetails[item.etfKey]) {
        const detailTr = document.createElement('tr');
        detailTr.className = 'etf-detail-row';
        detailTr.dataset.etfDetail = item.etfKey;
        detailTr.style.display = 'none';

        const detailTd = document.createElement('td');
        detailTd.colSpan = 4;

        const detail = etfDetails[item.etfKey];
        let detailHTML = `
          <div class="etf-detail">
            <div class="etf-detail-header">
              <span class="etf-detail-name">${detail.fullName}</span>
              <span class="etf-detail-ticker">${detail.ticker}</span>
            </div>
            <p class="etf-detail-desc">${detail.description}</p>
            <p class="etf-detail-meta">${detail.meta}</p>
        `;

        if (detail.holdings && detail.holdings.length > 0) {
          detailHTML += '<ul class="etf-detail-holdings" data-etf="' + item.etfKey + '">';
          detail.holdings.forEach(h => {
            detailHTML += `<li><button type="button" class="holding-link" data-etf="${item.etfKey}" data-symbol="${h.symbol}">${h.name} â€” ${h.weight}</button></li>`;
          });
          detailHTML += '</ul>';
          detailHTML += '<div class="holding-info" data-etf="' + item.etfKey + '"></div>';
        }

        detailHTML += '</div>';
        detailTd.innerHTML = detailHTML;
        detailTr.appendChild(detailTd);
        tbody.appendChild(detailTr);
      }
    });

    // ETF í† ê¸€ ì´ë²¤íŠ¸
    document.querySelectorAll('.etf-row .etf-link').forEach(btn => {
      btn.addEventListener('click', function() {
        const row = btn.closest('.etf-row');
        const key = row.dataset.etf;
        const detailRow = document.querySelector('.etf-detail-row[data-etf-detail="' + key + '"]');
        if (!detailRow) return;

        const isVisible = detailRow.style.display === 'table-row';
        document.querySelectorAll('.etf-detail-row').forEach(r => r.style.display = 'none');
        detailRow.style.display = isVisible ? 'none' : 'table-row';
      });
    });

    // ë³´ìœ  ì¢…ëª© ì„¤ëª… í† ê¸€
    document.querySelectorAll('.holding-link').forEach(link => {
      link.addEventListener('click', function() {
        const etf = this.dataset.etf;
        const symbol = this.dataset.symbol;
        const infoBox = document.querySelector('.holding-info[data-etf="' + etf + '"]');
        if (!infoBox) return;

        const byEtf = holdingDescriptions[etf] || {};
        const desc = byEtf[symbol];

        if (desc) {
          infoBox.textContent = desc;
        } else {
          infoBox.textContent = this.textContent.replace(/\s+â€”.+$/, '') + " : ìƒì„¸ ì„¤ëª…ì€ ì•„ì§ ì •ë¦¬ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.";
        }
      });
    });
  }

  // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
  function setupEventListeners() {
    // ê²€ìƒ‰
    const searchInput = document.getElementById('searchInput');
    searchInput.addEventListener('input', function(e) {
      const query = e.target.value.toLowerCase();
      filteredData = portfolioData.filter(item => 
        item.name.toLowerCase().includes(query) || 
        item.ticker.toLowerCase().includes(query)
      );
      renderPortfolioTable();
    });

    // ì •ë ¬
    document.querySelectorAll('.sortable').forEach(th => {
      th.addEventListener('click', function() {
        const column = this.dataset.sort;
        
        if (currentSort.column === column) {
          currentSort.direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
        } else {
          currentSort.column = column;
          currentSort.direction = 'asc';
        }

        sortData(column, currentSort.direction);
        updateSortIndicators();
        renderPortfolioTable();
      });
    });
  }

  // ë°ì´í„° ì •ë ¬
  function sortData(column, direction) {
    filteredData.sort((a, b) => {
      let valA, valB;

      if (column === 'name') {
        valA = a.name.toLowerCase();
        valB = b.name.toLowerCase();
      } else if (column === 'ticker') {
        valA = a.ticker.toLowerCase();
        valB = b.ticker.toLowerCase();
      } else if (column === 'weight') {
        valA = a.weight;
        valB = b.weight;
      }

      if (valA < valB) return direction === 'asc' ? -1 : 1;
      if (valA > valB) return direction === 'asc' ? 1 : -1;
      return 0;
    });
  }

  // ì •ë ¬ ì¸ë””ì¼€ì´í„° ì—…ë°ì´íŠ¸
  function updateSortIndicators() {
    document.querySelectorAll('.sortable').forEach(th => {
      th.classList.remove('asc', 'desc');
      if (th.dataset.sort === currentSort.column) {
        th.classList.add(currentSort.direction);
      }
    });
  }

  // íŒŒì´ ì°¨íŠ¸
  function renderPieChart() {
    const labels = portfolioData.map(item => item.name);
    const data = portfolioData.map(item => item.weight);

    const ctxPie = document.getElementById("weightPieChart").getContext("2d");
    new Chart(ctxPie, {
      type: "pie",
      data: {
        labels,
        datasets: [{ data }]
      },
      options: {
        plugins: {
          legend: {
            position: "right",
            labels: { boxWidth: 12, font: { size: 11 } }
          }
        }
      }
    });
  }

  // ì‹œë‚˜ë¦¬ì˜¤ ì°¨íŠ¸
  function renderProjectionChart() {
    const years = [];
    const proj15 = [];
    const proj12 = [];
    const proj18 = [];

    let cur15 = 40000000;
    let cur12 = 40000000;
    let cur18 = 40000000;

    const startYear = 2025;
    const endYear = 2060;
    const rateBase = 0.15;
    const rateLow = 0.12;
    const rateHigh = 0.18;

    const yearlyContributions = {
      2026: 69000000,
      2027: 44000000,
      2028: 25000000,
      2029: 25000000
    };

    for (let y = startYear; y <= endYear; y++) {
      if (y === startYear) {
        years.push(y);
        proj15.push(cur15);
        proj12.push(cur12);
        proj18.push(cur18);
        continue;
      }

      const add = yearlyContributions[y] || 0;
      cur15 = cur15 * (1 + rateBase) + add;
      cur12 = cur12 * (1 + rateLow) + add;
      cur18 = cur18 * (1 + rateHigh) + add;

      years.push(y);
      proj15.push(Math.round(cur15));
      proj12.push(Math.round(cur12));
      proj18.push(Math.round(cur18));
    }

    const ctx2 = document.getElementById("projectionChart").getContext("2d");

    const allValues = proj15.concat(proj12, proj18);
    const maxValue = Math.max(...allValues);
    const minValue = Math.min(...allValues);
    const linearMin = 0;
    const linearMax = maxValue * 1.1;
    const logMin = Math.max(1e6, minValue * 0.5);
    const logMax = maxValue * 1.5;

    const linearTickCallback = (value) => {
      const billion = value / 100000000;
      if (billion < 0.1) return "";
      return billion.toLocaleString("ko-KR", { maximumFractionDigits: 1 }) + "ì–µ";
    };

    const logTickCallback = (value) => {
      const billion = value / 100000000;
      if (billion < 0.1) return "";
      return billion.toLocaleString("ko-KR", { maximumFractionDigits: 1 }) + "ì–µ";
    };

    const linearTickFont = (ctx) => {
      if (!ctx || !ctx.tick) return {};
      const val = ctx.tick.value;
      const target = 10000000000;
      if (Math.abs(val - target) / target < 0.15) {
        return { weight: "bold" };
      }
      return {};
    };

    const logTickFont = (ctx) => {
      if (!ctx || !ctx.tick) return {};
      const val = ctx.tick.value;
      const target = 10000000000;
      if (Math.abs(val - target) / target < 0.2) {
        return { weight: "bold" };
      }
      return {};
    };

    const scenarioChart = new Chart(ctx2, {
      type: "line",
      data: {
        labels: years,
        datasets: [
          {
            label: "ê¸°ì¤€ ì‹œë‚˜ë¦¬ì˜¤ (15%)",
            data: proj15,
            borderWidth: 3,
            pointRadius: 0,
            tension: 0.25,
            borderDash: [6, 4],
            borderColor: "#2563eb"
          },
          {
            label: "ë³´ìˆ˜ì  ì‹œë‚˜ë¦¬ì˜¤ (12%)",
            data: proj12,
            borderWidth: 2,
            pointRadius: 0,
            tension: 0.25,
            borderDash: [4, 4],
            borderColor: "rgba(107,114,128,0.9)"
          },
          {
            label: "ê³µê²©ì  ì‹œë‚˜ë¦¬ì˜¤ (18%)",
            data: proj18,
            borderWidth: 2,
            pointRadius: 0,
            tension: 0.25,
            borderDash: [4, 4],
            borderColor: "rgba(156,163,175,0.9)"
          }
        ]
      },
      options: {
        interaction: {
          mode: "index",
          intersect: false
        },
        plugins: {
          legend: {
            display: true,
            position: "bottom",
            labels: {
              usePointStyle: true,
              padding: 16
            }
          },
          tooltip: {
            callbacks: {
              label: (ctx) => {
                const v = ctx.parsed.y;
                const billion = v / 100000000;
                return `${ctx.dataset.label}: ì•½ ${billion.toLocaleString("ko-KR", { maximumFractionDigits: 1 })}ì–µ ì›`;
              }
            }
          }
        },
        scales: {
          x: {
            title: {
              display: true,
              text: "ì—°ë„"
            },
            ticks: {
              font: (ctx) => {
                if (!ctx || !ctx.tick) return {};
                const yr = String(ctx.tick.value ?? ctx.tick.label);
                if (yr === "2025" || yr === "2055") {
                  return { weight: "bold" };
                }
                return {};
              }
            }
          },
          y: {
            type: "linear",
            min: linearMin,
            max: linearMax,
            title: {
              display: true,
              text: "ì˜ˆìƒ í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜ (ì–µ ì› ê¸°ì¤€)"
            },
            ticks: {
              callback: linearTickCallback,
              font: linearTickFont
            }
          }
        }
      }
    });

    function applyScaleMode(mode) {
      const yScale = scenarioChart.options.scales.y;

      if (mode === "linear") {
        yScale.type = "linear";
        yScale.min = linearMin;
        yScale.max = linearMax;
        yScale.title.text = "ì˜ˆìƒ í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜ (ì–µ ì› ê¸°ì¤€)";
        yScale.ticks.callback = linearTickCallback;
        yScale.ticks.font = linearTickFont;
      } else {
        yScale.type = "logarithmic";
        yScale.min = logMin;
        yScale.max = logMax;
        yScale.title.text = "ì˜ˆìƒ í¬íŠ¸í´ë¦¬ì˜¤ ê°€ì¹˜ (ì–µ ì› ê¸°ì¤€, ë¡œê·¸ ìŠ¤ì¼€ì¼)";
        yScale.ticks.callback = logTickCallback;
        yScale.ticks.font = logTickFont;
      }

      scenarioChart.update();
    }

    applyScaleMode("linear");

    document.querySelectorAll(".scale-tab").forEach((btn) => {
      btn.addEventListener("click", function () {
        const mode = this.dataset.scale;
        document.querySelectorAll(".scale-tab").forEach((b) => b.classList.remove("active"));
        this.classList.add("active");
        applyScaleMode(mode);
      });
    });
  }

</script>
</body>
</html>
